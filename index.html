<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>localStorage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <div id="showInfo" class="row">

        </div>


        <div class="m-5 p-5">
            <label for="">Name: </label>
            <input id="nameInput" type="text" placeholder="Enter your name..." class="form-control">
            <br>
            <label for="">Age:</label>
            <input id="ageInput" type="text" placeholder="Enter your age..." class="form-control">
            <br>
            <label for="">Email:</label>
            <input id="emailInput" type="email" placeholder="Enter your email..." class="form-control">
            <button onclick="submit()" class="btn btn-success m-3">Submit</button>
            <br>
            <button onclick="localStorage.clear(), location.reload()" class="btn btn-danger m-3">Clear all data</button>
        </div>
    </div>
    <button class="btn btn-info m-5"><a style="color: white; text-decoration: none" href="https://github.com/mdmehedyhassan/localStorage" target="_blank" rel="noopener noreferrer">git code</a></button>
    <script>
        const showInfoText = document.getElementById('showInfo');
        function submit() {
            const nameInput = document.getElementById('nameInput').value;
            const ageInput = document.getElementById('ageInput').value;
            const emailInput = document.getElementById('emailInput').value;
            const student = {
                name: nameInput,
                age: ageInput,
                email: emailInput
            };
            showInfoText.innerHTML = '';
            nameInput.value = '';
            ageInput.value = '';
            emailInput.value = '';
            let stns;
            if (student.name != '' && student.age != '' && student.email != '') {
                if (localStorage.getItem('students')) {
                    const getStudent = localStorage.getItem('students')
                    stns = JSON.parse(getStudent);
                }
                else {
                    stns = [];
                }
                stns.push(student);
                localStorage.setItem('students', JSON.stringify(stns))
            }
            else {
                if (localStorage.getItem('students')) {
                    const getStudent = localStorage.getItem('students')
                    stns = JSON.parse(getStudent);
                }
            }
            showInfo(stns);
        }
        if (localStorage.getItem('students')) {
            const getStudent = localStorage.getItem('students')
            stns = JSON.parse(getStudent);
            showInfo(stns);
        }

        function showInfo(stns) {
            for (let i = 0; i < stns.length; i++) {
                const element = stns[i];
                console.log(element);
                const newDiv = document.createElement('div');
                newDiv.className = "text-light col-4";
                newDiv.innerHTML = `
                    <div class="m-3 bg-success p-2">
                        <h4>Name: ${element.name}</h4>
                        <h5>Age: ${element.age}</h5>
                        <p>email: ${element.email} </p>
                    </div>
                `;
                showInfoText.appendChild(newDiv);
            }
        }


        // // single data success full
        // function submit (){
        //     const nameInput = document.getElementById('nameInput').value;
        //     const ageInput = document.getElementById('ageInput').value;
        //     const emailInput = document.getElementById('emailInput').value;
        //     const student = {
        //         name: nameInput,
        //         age: ageInput,
        //         email: emailInput
        //     }
        //     localStorage.setItem('students', JSON.stringify(student))
        //     const getStudent = localStorage.getItem('students')
        //     const studentObject = JSON.parse(getStudent)
        //     document.getElementById('name').innerText = studentObject.name;
        //     document.getElementById('age').innerText = studentObject.age;
        //     document.getElementById('email').innerText = studentObject.email;
        // }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>